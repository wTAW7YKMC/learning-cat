(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(4407)}])},4407:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(5893),r=a(7294),n=a(1163),l=a(7066),i=a(1649),d=a(1912),o=a(8387);let c=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,o.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var p=a(2597),h=a(2279);function m(){let[e,t]=(0,r.useState)({login:"",password:""}),[a,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),f=(0,n.useRouter)(),y=(0,i.I0)(),b=a=>{t({...e,[a.target.name]:a.target.value})},g=async t=>{t.preventDefault(),x(!0),y((0,d.h8)());try{let t=await l.Z.post("".concat("http://localhost:3001","/api/auth/login"),e);t.data.success?(y((0,d.he)(t.data.data)),localStorage.setItem("token",t.data.data.token),f.push("/dashboard")):y((0,d.UR)(t.data.message))}catch(t){var a,s;let e=(null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"登录失败，请稍后重试";y((0,d.UR)(e))}finally{x(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-purple-600 via-pink-500 to-red-500",children:(0,s.jsxs)("div",{className:"max-w-md w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-4",children:(0,s.jsx)(p.Z,{className:"w-8 h-8 text-purple-600"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"学习喵"}),(0,s.jsx)("p",{className:"text-white/80",children:"开启高效学习之旅"})]}),(0,s.jsxs)("div",{className:"bg-white/95 backdrop-blur-custom rounded-2xl shadow-2xl p-8",children:[(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"login",className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名或邮箱"}),(0,s.jsx)("input",{id:"login",name:"login",type:"text",required:!0,value:e.login,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"请输入用户名或邮箱"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:e.password,onChange:b,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"请输入密码"}),(0,s.jsx)("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?(0,s.jsx)(u,{className:"w-5 h-5"}):(0,s.jsx)(c,{className:"w-5 h-5"})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-purple-700 hover:to-pink-700 focus:ring-4 focus:ring-purple-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"登录中..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"登录"}),(0,s.jsx)(h.Z,{className:"w-4 h-4"})]})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["还没有账号？"," ",(0,s.jsx)("button",{onClick:()=>f.push("/register"),className:"text-purple-600 hover:text-purple-700 font-medium",children:"立即注册"})]})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"测试账号: admin / demo (密码: 123456)"})})]})]})})}},2597:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(8387);let r=(0,s.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},2279:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(8387);let r=(0,s.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])}},function(e){e.O(0,[512,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);